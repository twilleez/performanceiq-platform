<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PerformanceIQ</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

<!-- ‚îÄ‚îÄ‚îÄ TOPBAR ‚îÄ‚îÄ‚îÄ -->
<header class="topbar">
  <div class="topbar-left">
    <div class="brand-mark"><div class="brand-dot"></div></div>
    <span class="brand-name">PerformanceIQ</span>
  </div>

  <div class="topbar-center">
    <div class="pill live" id="pillOnline"><span class="pulse"></span><span id="pillOnlineText">Team Online</span></div>
    <div class="pill" id="pillSeason">Pre-Season</div>
    <div class="pill orange" id="pillGame" style="display:none">‚ö° <span id="pillGameText"></span></div>
  </div>

  <div class="topbar-right">
    <div class="search-wrap">
      <span class="search-icon">üîç</span>
      <input class="search-input" type="text" placeholder="Search athletes‚Ä¶" id="athleteSearch" />
    </div>
    <button class="icon-btn" id="btnRefresh" title="Refresh data">‚Ü∫</button>
    <button class="icon-btn" id="btnExport" title="Export report">üì§</button>
  </div>
</header>

<!-- ‚îÄ‚îÄ‚îÄ APP SHELL ‚îÄ‚îÄ‚îÄ -->
<div class="app-shell">

  <!-- SIDEBAR -->
  <nav class="sidebar">
    <div class="sidebar-section">Main</div>
    <button class="nav-btn active" data-view="dashboard">
      <i class="nav-icon">‚¨°</i> Dashboard
    </button>
    <button class="nav-btn" data-view="athletes">
      <i class="nav-icon">‚óâ</i> Athletes
      <span class="nav-badge" id="riskBadge" style="display:none">0</span>
    </button>
    <button class="nav-btn" data-view="train">
      <i class="nav-icon">‚ñ∑</i> Train
    </button>
    <button class="nav-btn" data-view="analytics">
      <i class="nav-icon">‚óà</i> Analytics
    </button>

    <div class="sidebar-section">Manage</div>
    <button class="nav-btn" data-view="schedule">
      <i class="nav-icon">üìÖ</i> Schedule
    </button>
    <button class="nav-btn" data-view="wellness">
      <i class="nav-icon">üåô</i> Wellness
    </button>
    <button class="nav-btn" data-view="nutrition">
      <i class="nav-icon">ü•ó</i> Nutrition
    </button>

    <button class="nav-btn" data-view="settings">
      <i class="nav-icon">‚öô</i> Settings
    </button>

    <div class="sidebar-bottom">
      <div class="user-block" id="userBlock">
        <div class="user-avatar" id="userAv">CD</div>
        <div>
          <div class="user-name" id="userName">Coach Davis</div>
          <div class="user-role" id="userRole">Head Coach ¬∑ Basketball</div>
        </div>
      </div>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="main-content">

    <!-- ‚ïê‚ïê VIEW: DASHBOARD ‚ïê‚ïê -->
    <section class="view active" id="view-dashboard">

      <!-- Header -->
      <div class="page-header stagger">
        <div>
          <div class="page-title" id="dashTitle">TEAM DASHBOARD</div>
          <div class="page-sub" id="dashSub">Loading‚Ä¶</div>
        </div>
        <div class="page-actions">
          <div class="chip green" id="chipOnline">
            <span class="pulse" style="background:var(--green)"></span>
            <span id="chipOnlineText">‚Äî online</span>
          </div>
          <div class="chip red" id="chipFlags" style="display:none">
            <span id="chipFlagsText">‚Äî flags</span>
          </div>
          <div class="chip orange" id="chipGame" style="display:none">
            <span id="chipGameText2">Game ‚Äî</span>
          </div>
        </div>
      </div>

      <!-- Stat cards -->
      <div class="stat-grid stagger" id="statGrid">
        <div class="stat-card accent">
          <div class="stat-label">Avg PIQ Score</div>
          <div class="stat-value" id="statAvg">‚Äî</div>
          <div class="stat-sub up" id="statAvgSub">‚Üë loading‚Ä¶</div>
          <div class="sparkline" id="sparkAvg"></div>
        </div>
        <div class="stat-card green">
          <div class="stat-label">Ready to Train</div>
          <div class="stat-value" id="statReady">‚Äî</div>
          <div class="stat-sub" id="statReadySub">‚Äî athletes</div>
        </div>
        <div class="stat-card yellow">
          <div class="stat-label">Monitor Load</div>
          <div class="stat-value" id="statMonitor">‚Äî</div>
          <div class="stat-sub down" id="statMonitorSub">‚Äî athletes</div>
        </div>
        <div class="stat-card red">
          <div class="stat-label">High Risk / Rest</div>
          <div class="stat-value" id="statRisk">‚Äî</div>
          <div class="stat-sub" id="statRiskSub">Action required</div>
        </div>
      </div>

      <!-- Main grid: readiness board + side panel -->
      <div class="grid-main">

        <!-- Left: readiness board + load monitor + activity feed -->
        <div style="display:flex;flex-direction:column;gap:18px">

          <!-- Readiness board -->
          <div class="card">
            <div class="card-header">
              <div class="card-title">Athlete Readiness Board</div>
              <a class="card-link" id="viewAllAthletes">View all ‚Üí</a>
            </div>
            <table class="heatmap" id="heatmapTable">
              <thead>
                <tr>
                  <th>Athlete</th>
                  <th>PIQ</th>
                  <th>Readiness</th>
                  <th>ACWR</th>
                  <th>Flags</th>
                  <th>Trend</th>
                </tr>
              </thead>
              <tbody id="heatmapBody"></tbody>
            </table>
          </div>

          <!-- Load monitor -->
          <div class="card">
            <div class="card-header">
              <div class="card-title">Load Monitoring (ACWR)</div>
              <span class="card-link" id="loadLegend"></span>
            </div>
            <div class="card-body">
              <div class="load-bar-list" id="loadBarList"></div>
              <div class="load-legend">
                <span>‚úÖ Safe &lt;1.3</span>
                <span>‚ö†Ô∏è Watch 1.3‚Äì1.5</span>
                <span>‚õî Risk &gt;1.5</span>
              </div>
            </div>
          </div>

          <!-- Activity feed -->
          <div class="card">
            <div class="card-header">
              <div class="card-title">Team Activity</div>
              <a class="card-link">See all ‚Üí</a>
            </div>
            <div class="card-body">
              <div class="feed-list" id="activityFeed"></div>
            </div>
          </div>

        </div><!-- /left col -->

        <!-- Right: alerts + upcoming + insight -->
        <div style="display:flex;flex-direction:column;gap:16px">

          <!-- Risk Alerts -->
          <div>
            <div class="section-label">RISK ALERTS</div>
            <div style="display:flex;flex-direction:column;gap:8px" id="alertsList"></div>
          </div>

          <!-- Team Readiness (roster mini) -->
          <div class="card">
            <div class="card-header">
              <div class="card-title">Roster Readiness</div>
              <a class="card-link" id="rosterMore">Full ‚Üí</a>
            </div>
            <div id="rosterMini"></div>
          </div>

          <!-- Upcoming -->
          <div>
            <div class="section-label">UPCOMING</div>
            <div class="event-list" id="eventList"></div>
          </div>

          <!-- AI Insight -->
          <div class="insight-card">
            <div class="insight-tag">‚ú¶ Weekly Insight</div>
            <div class="insight-body" id="insightText">Loading insight‚Ä¶</div>
          
          <!-- Periodization Preview -->
          <div class="insight-card" style="margin-top:14px">
            <div class="insight-tag">üìÖ Periodization (4-week)</div>
            <div class="insight-body" style="padding-top:6px">
              <div id="periodPlan"></div>
            </div>
          </div>
</div>

        </div><!-- /right col -->
      </div><!-- /grid-main -->

    </section><!-- /dashboard -->

    <!-- ‚ïê‚ïê VIEW: ATHLETES ‚ïê‚ïê -->
    <section class="view" id="view-athletes">

      <div class="page-header">
        <div>
          <div class="page-title">ATHLETES</div>
          <div class="page-sub" id="athleteCountSub">‚Äî athletes on roster</div>
        </div>
        <div class="page-actions">
          <div class="search-wrap">
            <span class="search-icon">üîç</span>
            <input class="search-input" style="width:200px" type="text" placeholder="Filter athletes‚Ä¶" id="athleteFilterInput" />
          </div>
          <button class="btn btn-ghost btn-sm">+ Add Athlete</button>
        </div>
      </div>

      <!-- Athlete cards grid -->
      <div class="grid-3" id="athleteCardGrid"></div>

      <!-- Athlete detail (hidden until row clicked) -->
      <div id="athleteDetail" style="display:none;flex-direction:column;gap:18px">
        <button class="btn btn-ghost btn-sm" id="backToList" style="align-self:flex-start;">‚Üê Back to athletes</button>

        <!-- Hero -->
        <div class="athlete-hero" id="detailHero"></div>

        <!-- Detail grid -->
        <div class="grid-2">
          <!-- PIQ + Pillars -->
          <div class="card">
            <div class="card-header"><div class="card-title">PIQ Score Breakdown</div></div>
            <div class="card-body">
              <div style="display:flex;gap:20px;align-items:center;margin-bottom:18px">
                <div class="ring-wrap" id="detailRingWrap">
                  <svg class="ring-svg" viewBox="0 0 158 158">
                    <circle class="ring-track" cx="79" cy="79" r="70"/>
                    <circle class="ring-fill" id="detailRingFill" cx="79" cy="79" r="70"/>
                  </svg>
                  <div class="ring-center">
                    <div class="ring-number" id="detailRingNum">‚Äî</div>
                    <div class="ring-label">PIQ Score</div>
                    <div class="ring-delta" id="detailRingDelta"></div>
                  </div>
                </div>
                <div style="flex:1">
                  <div class="score-tier" id="detailTier" style="margin-bottom:10px">‚Äî</div>
                  <div style="font-size:13px;color:var(--text-mid);line-height:1.7" id="detailScoreNote">‚Äî</div>
                </div>
              </div>
              <div class="pillar-grid" id="detailPillars"></div>
            </div>
          </div>

          <!-- Wellness -->
          <div>
            <div class="section-label">WELLNESS CHECK-IN</div>
            <div class="wellness-grid" id="detailWellness"></div>

            <div style="margin-top:16px">
              <div class="section-label">LOAD MONITORING</div>
              <div class="load-bar-list" id="detailLoad"></div>
            </div>

            <div style="margin-top:16px">
              <div class="insight-card">
                <div class="insight-tag">‚ú¶ Insight</div>
                <div class="insight-body" id="detailInsight">‚Äî</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Today's workout -->
        <div>
          <div class="section-label">TODAY'S ASSIGNED SESSION</div>
          <div id="detailWorkout"></div>
        </div>

        <!-- PR Table -->
        <div class="card">
          <div class="card-header"><div class="card-title">Personal Records</div></div>
          <div class="card-body">
            <table class="pr-table" id="detailPRs">
              <thead><tr><th>Exercise</th><th>Current PR</th><th>Previous</th><th>Date</th></tr></thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

      </div><!-- /athlete detail -->

    </section><!-- /athletes -->

    <!-- ‚ïê‚ïê VIEW: TRAIN ‚ïê‚ïê -->
    <section class="view" id="view-train">

      <div class="page-header">
        <div>
          <div class="page-title">TRAIN</div>
          <div class="page-sub">Generate sport-specific sessions instantly</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-primary" id="btnGenerate">‚ö° Generate Session</button>
        </div>
      </div>

      <div class="grid-2">
        <!-- Builder -->
        <div class="card card-body">
          <div class="section-label">SESSION BUILDER</div>
          <div class="form-grid" style="margin-bottom:14px">
            <div class="form-group">
              <div class="form-label">Sport</div>
              <select class="form-select" id="buildSport">
                <option value="basketball">üèÄ Basketball</option>
                <option value="football">üèà Football</option>
                <option value="soccer">‚öΩ Soccer</option>
                <option value="baseball">‚öæ Baseball</option>
                <option value="volleyball">üèê Volleyball</option>
                <option value="track">üèÉ Track</option>
              </select>
            </div>
            <div class="form-group">
              <div class="form-label">Session Type</div>
              <select class="form-select" id="buildType">
                <option value="practice">Practice</option>
                <option value="strength">Strength</option>
                <option value="speed">Speed</option>
                <option value="conditioning">Conditioning</option>
                <option value="recovery">Recovery</option>
                <option value="competition">Competition Prep</option>
              </select>
            </div>
            <div class="form-group">
              <div class="form-label">Duration</div>
              <select class="form-select" id="buildDuration">
                <option value="30">30 min</option>
                <option value="45">45 min</option>
                <option value="60" selected>60 min</option>
                <option value="90">90 min</option>
              </select>
            </div>
            <div class="form-group">
              <div class="form-label">Intensity</div>
              <select class="form-select" id="buildIntensity">
                <option value="low">Low (Recovery)</option>
                <option value="moderate" selected>Moderate</option>
                <option value="high">High</option>
              </select>
            </div>
          </div>
          <div style="margin-bottom:16px">
            <div class="form-label" style="margin-bottom:8px">Injury Filters</div>
            <div class="inj-chips" id="injuryChips">
              <button class="inj-chip" data-injury="knee">Knee</button>
              <button class="inj-chip" data-injury="ankle">Ankle</button>
              <button class="inj-chip" data-injury="shoulder">Shoulder</button>
              <button class="inj-chip" data-injury="back">Back</button>
              <button class="inj-chip" data-injury="hip">Hip</button>
              <button class="inj-chip" data-injury="hamstring">Hamstring</button>
            </div>
          </div>
          <div style="display:flex;gap:9px">
            <button class="btn btn-primary btn-full" id="btnGenerateInline">‚ñ∑ Generate</button>
            <button class="btn btn-ghost" id="btnPushToday">Push to Today</button>
          </div>
        </div>

        <!-- Generated session output -->
        <div>
          <div class="section-label" style="display:flex;justify-content:space-between;align-items:center">
            GENERATED SESSION
            <span class="pill accent" id="sessionSaved" style="display:none">‚úì Saved</span>
          </div>
          <div id="generatedSessionWrap">
            <div class="workout-card" id="generatedSession" style="opacity:0.5">
              <div class="workout-type-tag">Configure and generate a session ‚Üí</div>
              <div class="workout-name" style="font-size:16px;color:var(--text-dim)">Awaiting generation</div>
              <div class="workout-meta" style="margin-top:6px">Adjust filters on the left, then hit Generate</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Session Library -->
      <div>
        <div class="section-label" style="display:flex;justify-content:space-between;align-items:center">
          SESSION LIBRARY
          <a class="card-link">View all ‚Üí</a>
        </div>
        <div class="grid-3" id="sessionLibrary"></div>
      </div>

    </section><!-- /train -->

    <!-- ‚ïê‚ïê VIEW: ANALYTICS ‚ïê‚ïê -->
    <section class="view" id="view-analytics">

      <div class="page-header">
        <div>
          <div class="page-title">ANALYTICS</div>
          <div class="page-sub" id="analyticsSub">Team performance trends</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-ghost btn-sm" id="btnExportAnalytics">Export PDF üìÑ</button>
        </div>
      </div>

      <!-- Summary stats -->
      <div class="stat-grid stagger" id="analyticsStatGrid"></div>

      <div class="grid-2">
        <!-- 7-day load chart -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">7-Day Team Load</div>
            <span style="font-size:12px;color:var(--text-dim)">Acute workload units</span>
          </div>
          <div class="card-body">
            <div class="chart-bars" id="loadChart"></div>
          </div>
        </div>

        <!-- Score distribution -->
        <div class="card">
          <div class="card-header">
            <div class="card-title">PIQ Score Distribution</div>
          </div>
          <div class="card-body">
            <div class="chart-bars" id="scoreDistChart"></div>
            <div style="margin-top:14px;display:flex;flex-direction:column;gap:7px" id="scoreRanges"></div>
          </div>
        </div>
      </div>

      <!-- Athlete trend table -->
      <div class="card">
        <div class="card-header">
          <div class="card-title">Athlete Score Trends (4 Weeks)</div>
        </div>
        <div class="card-body">
          <table class="heatmap" id="analyticsTable">
            <thead>
              <tr>
                <th>Athlete</th>
                <th>W-4</th>
                <th>W-3</th>
                <th>W-2</th>
                <th>This Week</th>
                <th>Change</th>
                <th>ACWR</th>
              </tr>
            </thead>
            <tbody id="analyticsBody"></tbody>
          </table>
        </div>
      </div>

    </section><!-- /analytics -->

    <!-- ‚ïê‚ïê VIEW: SCHEDULE ‚ïê‚ïê -->
    <section class="view" id="view-schedule">
      <div class="page-header">
        <div>
          <div class="page-title">SCHEDULE</div>
          <div class="page-sub">Upcoming games, practices, and events</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-primary btn-sm">+ Add Event</button>
        </div>
      </div>
      <div class="event-list" id="fullEventList" style="max-width:600px"></div>
    </section>

    
    <!-- ‚ïê‚ïê VIEW: WELLNESS ‚ïê‚ïê -->
    <section class="view" id="view-wellness">
      <div class="page-header">
        <div>
          <div class="page-title">Wellness</div>
          <div class="page-sub" id="wellnessSub">Daily check-in</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-primary" id="btnSaveWellness">Save Check-in</button>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">Today's Check-in</div>
            <a class="card-link" href="javascript:void(0)" id="btnAutoWellness">Auto-fill demo</a>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <div class="form-label">Sleep hours</div>
                <input class="form-input" id="wSleep" type="number" min="0" max="14" step="0.1" placeholder="e.g., 7.5">
              </div>
              <div class="form-group">
                <div class="form-label">Sleep quality (0‚Äì10)</div>
                <input class="form-input" id="wSleepQ" type="number" min="0" max="10" step="1" placeholder="e.g., 8">
              </div>
              <div class="form-group">
                <div class="form-label">Soreness (0‚Äì10)</div>
                <input class="form-input" id="wSoreness" type="number" min="0" max="10" step="1" placeholder="e.g., 3">
              </div>
              <div class="form-group">
                <div class="form-label">Energy (0‚Äì10)</div>
                <input class="form-input" id="wEnergy" type="number" min="0" max="10" step="1" placeholder="e.g., 7">
              </div>
              <div class="form-group">
                <div class="form-label">Stress (0‚Äì10)</div>
                <input class="form-input" id="wStress" type="number" min="0" max="10" step="1" placeholder="e.g., 4">
              </div>
              <div class="form-group">
                <div class="form-label">Mood (0‚Äì10)</div>
                <input class="form-input" id="wMood" type="number" min="0" max="10" step="1" placeholder="e.g., 8">
              </div>
            </div>

            <div style="margin-top:14px">
              <div class="form-label">Injury / pain note</div>
              <input class="form-input" id="wNote" type="text" placeholder="Optional note">
            </div>

            <div style="margin-top:14px" class="section-label">Injury flags</div>
            <div class="inj-chips" id="wInjuryChips">
              <button class="inj-chip" type="button" data-flag="none">None</button>
              <button class="inj-chip" type="button" data-flag="soreness">Soreness</button>
              <button class="inj-chip" type="button" data-flag="pain">Pain</button>
              <button class="inj-chip" type="button" data-flag="injury">Injury</button>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">How this affects PIQ</div>
          </div>
          <div class="card-body">
            <div class="insight-card">
              <div class="insight-tag">Scoring</div>
              <div class="insight-body" id="wellnessExplain">
                Recovery and wellness metrics directly influence the <strong>Recovery pillar</strong> and injury risk flags.
                Saving a check-in updates PIQ scores instantly.
              </div>
            </div>

            <div style="margin-top:14px" class="section-label">Last 7 days</div>
            <div id="wellness7" class="load-bar-list"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- ‚ïê‚ïê VIEW: NUTRITION ‚ïê‚ïê -->
    <section class="view" id="view-nutrition">
      <div class="page-header">
        <div>
          <div class="page-title">Nutrition</div>
          <div class="page-sub" id="nutritionSub">Macro targets + hydration</div>
        </div>
        <div class="page-actions">
          <button class="btn btn-primary" id="btnSaveNutrition">Save Nutrition</button>
        </div>
      </div>

      <div class="grid-2">
        <div class="card">
          <div class="card-header">
            <div class="card-title">Today's Intake</div>
            <a class="card-link" href="javascript:void(0)" id="btnAutoNutrition">Auto-fill demo</a>
          </div>
          <div class="card-body">
            <div class="form-grid">
              <div class="form-group">
                <div class="form-label">Calories</div>
                <input class="form-input" id="nCals" type="number" min="0" step="10" placeholder="e.g., 2800">
              </div>
              <div class="form-group">
                <div class="form-label">Water (oz)</div>
                <input class="form-input" id="nWater" type="number" min="0" step="1" placeholder="e.g., 90">
              </div>
              <div class="form-group">
                <div class="form-label">Protein (g)</div>
                <input class="form-input" id="nProtein" type="number" min="0" step="1" placeholder="e.g., 160">
              </div>
              <div class="form-group">
                <div class="form-label">Carbs (g)</div>
                <input class="form-input" id="nCarbs" type="number" min="0" step="1" placeholder="e.g., 320">
              </div>
              <div class="form-group">
                <div class="form-label">Fat (g)</div>
                <input class="form-input" id="nFat" type="number" min="0" step="1" placeholder="e.g., 80">
              </div>
              <div class="form-group">
                <div class="form-label">Notes</div>
                <input class="form-input" id="nNote" type="text" placeholder="Optional note">
              </div>
            </div>

            <div style="margin-top:16px" class="section-label">Targets</div>
            <div id="nutritionTargets" class="insight-card" style="background:linear-gradient(135deg,var(--accent-dim),var(--green-dim));border-color:var(--accent-border)">
              <div class="insight-tag">Auto targets</div>
              <div class="insight-body" id="nutritionTargetsText">Targets are generated from role, sport, and bodyweight (if entered).</div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div class="card-title">Nutrition Pillar</div>
          </div>
          <div class="card-body">
            <div class="score-hero" style="padding:18px">
              <div class="ring-wrap" style="width:120px;height:120px">
                <svg class="ring-svg" viewBox="0 0 160 160" style="width:120px;height:120px">
                  <circle class="ring-track" cx="80" cy="80" r="70"></circle>
                  <circle class="ring-fill" id="nutRingFill" cx="80" cy="80" r="70"></circle>
                </svg>
                <div class="ring-center">
                  <div class="ring-number" id="nutRingNum">‚Äî</div>
                  <div class="ring-label">Nutrition</div>
                </div>
              </div>
              <div class="score-details">
                <div class="score-headline" id="nutritionHeadline">Log nutrition to unlock your score</div>
                <div class="score-note" id="nutritionNote">Protein, carbs, fats, and hydration contribute to the PIQ Nutrition pillar.</div>
              </div>
            </div>

            <div style="margin-top:14px" class="section-label">Last 7 days</div>
            <div id="nutrition7" class="load-bar-list"></div>
          </div>
        </div>
      </div>
    </section>

<!-- ‚ïê‚ïê VIEW: SETTINGS ‚ïê‚ïê -->
    <section class="view" id="view-settings">
      <div class="page-header">
        <div>
          <div class="page-title">SETTINGS</div>
          <div class="page-sub">Team configuration and data management</div>
        </div>
      </div>

      <div class="grid-2">
        <div class="card card-body">
          <div class="section-label">TEAM PROFILE</div>
          <div class="form-group" style="margin-bottom:13px">
            <div class="form-label">Team Name</div>
            <input class="form-input" type="text" value="Westview Varsity Basketball" id="settingTeamName" />
          </div>
          <div class="form-grid">
            <div class="form-group">
              <div class="form-label">Sport</div>
              <select class="form-select" id="settingSport">
                <option selected>Basketball</option>
                <option>Football</option>
                <option>Soccer</option>
                <option>Baseball</option>
                <option>Volleyball</option>
                <option>Track</option>
              </select>
            </div>
            <div class="form-group">
              <div class="form-label">Season Phase</div>
              <select class="form-select" id="settingSeason">
                <option selected>Pre-Season</option>
                <option>In-Season</option>
                <option>Post-Season</option>
                <option>Off-Season</option>
              </select>
            </div>
          </div>
          <button class="btn btn-primary" style="margin-top:16px" id="btnSaveSettings">Save Changes</button>
        </div>

        <div class="card card-body">
          <div class="section-label">ACWR THRESHOLDS</div>
          <div style="font-size:13px;color:var(--text-mid);margin-bottom:14px;line-height:1.7">
            Acute:Chronic Workload Ratio thresholds determine risk flags. Defaults follow published sports science guidelines.
          </div>
          <div class="load-bar-list" style="margin-bottom:16px">
            <div class="load-bar-item">
              <div class="load-bar-name" style="color:var(--green)">‚úÖ Safe</div>
              <div class="load-bar-track"><div class="load-bar-fill" style="width:78%;background:var(--green)"></div></div>
              <div class="load-bar-val" style="color:var(--green)">&lt;1.30</div>
            </div>
            <div class="load-bar-item">
              <div class="load-bar-name" style="color:var(--yellow)">‚ö†Ô∏è Watch</div>
              <div class="load-bar-track"><div class="load-bar-fill" style="width:88%;background:var(--yellow)"></div></div>
              <div class="load-bar-val" style="color:var(--yellow)">1.3‚Äì1.5</div>
            </div>
            <div class="load-bar-item">
              <div class="load-bar-name" style="color:var(--red)">‚õî Risk</div>
              <div class="load-bar-track"><div class="load-bar-fill" style="width:100%;background:var(--red)"></div></div>
              <div class="load-bar-val" style="color:var(--red)">&gt;1.50</div>
            </div>
          </div>
          <div class="section-label" style="margin-top:6px">DATA MANAGEMENT</div>
          <div style="display:flex;flex-direction:column;gap:8px">
            <button class="btn btn-ghost btn-sm" id="btnExportData">üì§ Export JSON Backup</button>
            <button class="btn btn-ghost btn-sm" id="btnImportData">üì• Import JSON</button>
            <button class="btn btn-danger btn-sm" id="btnResetData">‚ö† Reset to Demo Data</button>
          </div>
        </div>
      </div>

      <div class="card card-body">
        <div class="section-label">CLOUD SYNC</div>
        <div class="alert info" style="margin-bottom:14px">
          <div class="alert-icon">‚òÅ</div>
          <div>
            <div class="alert-title">Cloud Sync ‚Äî Coming Next Phase</div>
            <div>Connect Supabase to enable real-time team sync, parent access, and multi-device support. All data is currently stored locally.</div>
          </div>
        </div>
        <button class="btn btn-ghost btn-sm" disabled style="opacity:0.4;cursor:not-allowed">Configure Cloud Sync</button>
      </div>

    </section><!-- /settings -->

  </main><!-- /main-content -->
</div><!-- /app-shell -->

<!-- ‚îÄ‚îÄ‚îÄ ONBOARDING MODAL ‚îÄ‚îÄ‚îÄ -->
<div class="modal-backdrop" id="onboardingModal" style="display:none">
  <div class="modal-box">
    <div class="modal-brand">
      <div class="modal-logo">‚ö°</div>
      <div>
        <div class="modal-brand-name">PerformanceIQ</div>
        <div class="modal-brand-sub">Offline-first ¬∑ Team-ready</div>
      </div>
    </div>
    <div class="modal-progress"><div class="modal-progress-fill" id="obProgress" style="width:33%"></div></div>

    <!-- Step 1: Role -->
    <div class="modal-step active" id="obStep1">
      <div class="modal-title">Who are you?</div>
      <div class="modal-sub">We'll personalize your dashboard. You can change this anytime in Settings.</div>
      <div class="role-grid" id="roleGrid">
        <div class="role-card selected" data-role="coach">
          <div class="role-card-icon">üìã</div>
          <div class="role-card-label">Coach</div>
          <div class="role-card-sub">Monitor your team</div>
        </div>
        <div class="role-card" data-role="athlete">
          <div class="role-card-icon">üèãÔ∏è</div>
          <div class="role-card-label">Athlete</div>
          <div class="role-card-sub">Track your performance</div>
        </div>
        <div class="role-card" data-role="admin">
          <div class="role-card-icon">üè´</div>
          <div class="role-card-label">Admin / AD</div>
          <div class="role-card-sub">Program oversight</div>
        </div>
        <div class="role-card" data-role="parent">
          <div class="role-card-icon">üë™</div>
          <div class="role-card-label">Parent</div>
          <div class="role-card-sub">Follow your athlete</div>
        </div>
        <div class="role-card" data-role="owner">
          <div class="role-card-icon">üë§</div>
          <div class="role-card-label">Owner</div>
          <div class="role-card-sub">Manage the program</div>
        </div>
        <div class="role-card" data-role="viewer">
          <div class="role-card-icon">üëÅ</div>
          <div class="role-card-label">Viewer</div>
          <div class="role-card-sub">Read-only access</div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-ghost" id="obSkip">Skip setup</button>
        <button class="btn btn-primary btn-full" id="obNext1">Continue ‚Üí</button>
      </div>
      <div class="modal-dots"><div class="modal-dot active"></div><div class="modal-dot"></div><div class="modal-dot"></div></div>
    </div>

    <!-- Step 2: Sport -->
    <div class="modal-step" id="obStep2">
      <div class="modal-title">Pick your sport</div>
      <div class="modal-sub">Workouts and load targets will be tailored to your sport.</div>
      <div class="sport-grid" id="sportGrid">
        <div class="sport-chip selected" data-sport="basketball">üèÄ Basketball</div>
        <div class="sport-chip" data-sport="football">üèà Football</div>
        <div class="sport-chip" data-sport="soccer">‚öΩ Soccer</div>
        <div class="sport-chip" data-sport="baseball">‚öæ Baseball</div>
        <div class="sport-chip" data-sport="volleyball">üèê Volleyball</div>
        <div class="sport-chip" data-sport="track">üèÉ Track</div>
      </div>
      <div style="margin-bottom:16px">
        <div class="form-label" style="margin-bottom:8px">Injury filters (optional)</div>
        <div class="inj-chips" id="obInjuryChips">
          <button class="inj-chip" data-injury="knee">Knee</button>
          <button class="inj-chip" data-injury="ankle">Ankle</button>
          <button class="inj-chip" data-injury="shoulder">Shoulder</button>
          <button class="inj-chip" data-injury="back">Back</button>
          <button class="inj-chip" data-injury="hip">Hip</button>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-ghost" id="obBack2">‚Üê Back</button>
        <button class="btn btn-primary btn-full" id="obNext2">Continue ‚Üí</button>
      </div>
      <div class="modal-dots"><div class="modal-dot done"></div><div class="modal-dot active"></div><div class="modal-dot"></div></div>
    </div>

    <!-- Step 3: First session -->
    <div class="modal-step" id="obStep3">
      <div class="modal-title">Your first session is ready.</div>
      <div class="modal-sub">Start it now to unlock your first PIQ Score and team insights.</div>
      <div id="obFirstSession"></div>
      <div class="modal-footer" style="margin-top:14px">
        <button class="btn btn-ghost" id="obBack3">‚Üê Back</button>
        <button class="btn btn-primary btn-full" id="obFinish">‚ñ∑ Start Session Now</button>
      </div>
      <div class="modal-dots"><div class="modal-dot done"></div><div class="modal-dot done"></div><div class="modal-dot active"></div></div>
    </div>
  </div>
</div>

<!-- ‚îÄ‚îÄ‚îÄ TOAST CONTAINER ‚îÄ‚îÄ‚îÄ -->
<div class="toast-container" id="toastContainer"></div>

<script src="core.js"></script>
</body>
</html>
